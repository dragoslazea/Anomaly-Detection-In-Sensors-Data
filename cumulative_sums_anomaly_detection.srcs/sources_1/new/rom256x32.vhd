library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;

entity rom256x32 is
    Port ( address : in STD_LOGIC_VECTOR (31 downto 0);
           data_out_previous : out STD_LOGIC_VECTOR (31 downto 0);
           data_out_current : out STD_LOGIC_VECTOR (31 downto 0));
end rom256x32;

architecture Behavioral of rom256x32 is

type rom_array is array (0 to 255) of std_logic_vector(31 downto 0);

signal rom : rom_array := (
    "00000000000000000001001101101001", -- 4969, 0 offset timestamp 657 in original file
    "00000000000000000001001101010000", -- 4944, 0
    "00000000000000000001001101000011", -- 4931, 0
    "00000000000000000001001100101010", -- 4906, 1
    "00000000000000000001000101110101", -- 4469, 1
    "00000000000000000001001111110010", -- 5106, 1
    "00000000000000000001011010000011", -- 5763, 1
    "00000000000000000001001100001011", -- 4875, 1
    "00000000000000000001010010100001", -- 5281, 1
    "00000000000000000001010111111001", -- 5625, 0
    "00000000000000000001011000000110", -- 5638, 0
    "00000000000000000001011001110110", -- 5750, 1
    "00000000000000000001100001000101", -- 6213, 0
    "00000000000000000001100011000010", -- 6338, 1
    "00000000000000000001011100110010", -- 5938, 0
    "00000000000000000001011011100111", -- 5863, 0
    "00000000000000000001011110101111", -- 6063, 0
    "00000000000000000001011011100111", -- 5863, 1
    "00000000000000000001100111101101", -- 6637, 1
    "00000000000000000001110010111100", -- 7356, 1
    "00000000000000000001111110000101", -- 8069, 0
    "00000000000000000010000001011001", -- 8281, 1
    "00000000000000000010000110110111", -- 8631, 1
    "00000000000000000010010011111101", -- 9469, 1
    "00000000000000000001111111010110", -- 8150, 1
    "00000000000000000010001001100000", -- 8800, 0
    "00000000000000000010001100011011", -- 8987, 0
    "00000000000000000010001101110011", -- 9075, 0
    "00000000000000000010001100100010", -- 8994, 0
    "00000000000000000010001011110110", -- 8950, 0
    "00000000000000000010001100101000", -- 9000, 0
    "00000000000000000010001011110000", -- 8944, 1
    "00000000000000000001111011001001", -- 7881, 1
    "00000000000000000010000001001101", -- 8269, 0
    "00000000000000000001111111000011", -- 8131, 1
    "00000000000000000010000101111111", -- 8575, 0
    "00000000000000000010001001100110", -- 8806, 0
    "00000000000000000010001000100001", -- 8737, 0
    "00000000000000000010001011000100", -- 8900, 1
    "00000000000000000010000110111101", -- 8637, 1
    "00000000000000000001111110110000", -- 8112, 1
    "00000000000000000001111010000100", -- 7812, 0
    "00000000000000000001111101001100", -- 8012, 1
    "00000000000000000001111110111101", -- 8125, 0 offset timestamp 700 in original file
    others => (others => '0')
);

signal next_address : STD_LOGIC_VECTOR (31 downto 0) := x"00000001";

begin

    next_address <= (others => '0') when address = x"FFFFFFFF" else address + 1;

    data_out_previous <= rom(conv_integer(address));
    data_out_current <= rom(conv_integer(next_address));

end Behavioral;